<!DOCTYPE html>

<head>
    <title>Home</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta charset="utf-8">
    <link rel="stylesheet" href="./home.css">
    <script src="/socket.io/socket.io.js"></script>
</head>

<body>
    <!-- <script type="module" src="../posts.js"></script>-->
    <script src="./home.js"></script>
    <div class="topnav">
        <button class="active" href="#home">Home</button>
        <button id="messagesButton">Messages</button>
        <button id="peopleButton">People</button>
        <form class="loggout_layout" action="/loggout" method="POST">
            <button class="Loggout">Log Out</button>
        </form>
    </div>
    <div class="post_create" id="post" post_id="new">
        <p id='responding'>Responding to:</p>
        <div class="form" id="create_post">
            <div class="form__message form__message--error"></div>
            <div class="form__input-group">
                <textarea type="text" class="form__input" id="create_content"
                    placeholder="What's new in your world?"></textarea>
                <div class="form__input-error-message"></div>
            </div>
            <div class="form__input-group">
                <button class="form__button" onclick='onCreate(this)' post_id="new">Post</button>
                <div class="form__input-error-message"></div>
            </div>
            <div class="form__input-group">
                <button class="form__button" id="cancel_button" onclick='openCreatePost(this)'>Cancel</button>
                <div class="form__input-error-message"></div>
            </div>
        </div>
    </div>
    <div class="list" id="posts">
        <button class="form__button" id="form_open_button" style="width: 400px;" onclick='openCreatePost(this)'>Post</button>
    </div>
    <p class="load_error" id="loading_error">
        Unable to load posts
    </p>

    <script>
        document.getElementById("messagesButton").addEventListener("click", function(){
            window.location.href = '/messages';
        });
        document.getElementById("peopleButton").addEventListener("click", function(){
            window.location.href = '/people';
        });
    </script>
</body>